import{b as V,c as B,d as U,e as z,f as q,g as $,l as J,n as K,o as X}from"./chunk-SGLVUZVK.js";import{a as P,c as H,d as f,e as g,f as O,g as W}from"./chunk-6UKTLYYS.js";import{$a as r,Da as d,Gb as u,Lb as R,Mb as j,N as s,Nb as G,Ob as Q,Qa as L,Ra as T,Sa as C,Ta as i,Ua as o,Va as p,Xa as c,Ya as F,aa as M,ab as S,ba as k,bb as y,db as w,eb as _,fb as E,gb as A,hb as D,jb as N,oa as I,qa as l}from"./chunk-362EEDBT.js";var Y=(e,n)=>{let t=s(f);return localStorage.getItem("token")?!0:(t.navigate(["/login"]),!1)};var h=class e{credentials={email:"",password:""};authService=s(X);router=s(f);onLogin(){this.authService.login(this.credentials).subscribe({next:()=>this.router.navigate(["/search"]),error:n=>{console.error("Full HTTP Error:",n),alert("Login failed: "+(n.error?.message||n.statusText||"Server unreachable"))}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"container","d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","p-4","shadow-sm",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"],[1,"mt-3","text-center"],["routerLink","/register"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"GlobalConnect Login"),o(),i(4,"form",3),c("ngSubmit",function(){return a.onLogin()}),i(5,"div",4)(6,"label",5),r(7,"Email address"),o(),i(8,"input",6),E("ngModelChange",function(m){return _(a.credentials.email,m)||(a.credentials.email=m),m}),o()(),i(9,"div",4)(10,"label",5),r(11,"Password"),o(),i(12,"input",7),E("ngModelChange",function(m){return _(a.credentials.password,m)||(a.credentials.password=m),m}),o()(),i(13,"button",8),r(14,"Login"),o()(),i(15,"p",9),r(16,"Don't have an account? "),i(17,"a",10),r(18,"Register"),o()()()()),t&2&&(l(8),w("ngModel",a.credentials.email),l(4),w("ngModel",a.credentials.password))},dependencies:[u,K,$,V,B,U,J,q,z,W,g],encapsulation:2})};var oe=e=>["/provider",e],re=(e,n)=>n.providerId;function ae(e,n){if(e&1&&(i(0,"div",11)(1,"div",13)(2,"div",14)(3,"div",15),p(4,"img",16),o(),i(5,"div",17)(6,"div",18)(7,"div",19)(8,"div")(9,"h5",20),r(10),o(),i(11,"span",21),r(12),o()(),i(13,"div",22)(14,"span",23),r(15),o(),i(16,"small",24),r(17,"/ hr"),o()()(),i(18,"p",25),p(19,"i",26),r(20),o(),i(21,"a",27),r(22," View Availability "),o()()()()()()),e&2){let t=n.$implicit,a=F();l(4),C("src",D("https://placehold.co/200x200/e9ecef/adb5bd?text=",a.getInitials(t.name)),I)("alt",A(t.name)),l(6),S(t.name),l(2),S(t.specialty),l(3),y("$",t.hourlyRateUSD),l(5),y(" ",(t.languages==null?null:t.languages.join(", "))||"English"," "),l(),C("routerLink",N(9,oe,t.providerId))}}function le(e,n){e&1&&(i(0,"div",12),p(1,"i",28),i(2,"p",29),r(3,"No providers found matching criteria."),o()())}var v=class e{providers=[];http=s(R);ngOnInit(){this.loadProviders()}loadProviders(){this.http.get(`${Q.apiUrl}/providers/search`).subscribe({next:n=>this.providers=n.providers||[],error:n=>console.error("Failed to load providers",n)})}getInitials(n){return n?n.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2):"PV"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-search"]],decls:16,vars:1,consts:[[1,"container","mt-4","pb-5"],[1,"mb-4","fw-bold"],[1,"row","g-2","mb-4"],[1,"col-12","col-md-8"],[1,"input-group"],[1,"input-group-text","bg-white","border-end-0"],[1,"bi","bi-search"],["type","text","placeholder","Try 'Therapist' or 'German'",1,"form-control","border-start-0","ps-0"],[1,"col-12","col-md-4"],[1,"btn","btn-primary","w-100","fw-semibold",3,"click"],[1,"row","g-3"],[1,"col-12","col-lg-6"],[1,"col-12","text-center","text-muted","mt-5","py-5"],[1,"card","h-100","shadow-sm","border-0","overflow-hidden"],[1,"row","g-0","h-100"],[1,"col-4","col-sm-3","bg-light","d-flex","align-items-center","justify-content-center","p-2"],[1,"img-fluid","rounded-circle","border","shadow-sm",2,"width","80px","height","80px","object-fit","cover",3,"src","alt"],[1,"col-8","col-sm-9"],[1,"card-body","d-flex","flex-column","h-100","py-3","pe-3","ps-0"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"card-title","fw-bold","text-dark","mb-1"],[1,"badge","bg-primary-subtle","text-primary-emphasis"],[1,"text-end"],[1,"fs-5","fw-bold","text-dark"],[1,"text-muted","d-block"],[1,"card-text","text-muted","small","mb-3","flex-grow-1","text-truncate",2,"max-height","40px"],[1,"bi","bi-translate","me-1"],[1,"btn","btn-outline-primary","btn-sm","fw-semibold","stretched-link",3,"routerLink"],[1,"bi","bi-people","fs-1","mb-3","d-block"],[1,"fs-5"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"h3",1),r(2,"Find a Specialist"),o(),i(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),p(7,"i",6),o(),p(8,"input",7),o()(),i(9,"div",8)(10,"button",9),c("click",function(){return a.loadProviders()}),r(11,"Search"),o()()(),i(12,"div",10),L(13,ae,23,11,"div",11,re,!1,le,4,0,"div",12),o()()),t&2&&(l(13),T(a.providers))},dependencies:[u,g],styles:['.stretched-link[_ngcontent-%COMP%]:after{position:absolute;inset:0;z-index:1;content:""}.card[_ngcontent-%COMP%]{position:relative}']})};var te=[{path:"login",component:h},{path:"register",loadComponent:()=>import("./chunk-BCBKX5K4.js").then(e=>e.RegisterComponent)},{path:"",canActivate:[Y],children:[{path:"search",component:v},{path:"provider/:id",loadComponent:()=>import("./chunk-E3O6FLMJ.js").then(e=>e.ProviderDetailComponent)},{path:"appointments",loadComponent:()=>import("./chunk-5NLDJ2JP.js").then(e=>e.ListComponent)}]},{path:"**",redirectTo:"login"}];var ne=(e,n)=>{let t=localStorage.getItem("token");return t&&(e=e.clone({setHeaders:{Authorization:`Bearer ${t}`}})),n(e)};var ie={providers:[M(),O(te),j(G([ne]))]};var b=class e{title=k("global-connect-web");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,a){t&1&&p(0,"router-outlet")},dependencies:[H],encapsulation:2})};P(b,ie).catch(e=>console.error(e));
